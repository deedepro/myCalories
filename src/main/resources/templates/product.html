<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      lang="ru">
<style>
    .characteristics-form {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
    }

    .portion-form div {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .button-block {
        width: 100%;
        height: 10vh;
    }

    .continue-button {
        width: calc(100% - 1vh);
        height: 9vh;
        margin: 0.5vh;
        font-size: 3vh;
        border-radius: 3vh;
    }

    /*    */
    .content {
        width: 100%;
        height: 95vh;
    }

    .characteristics-block {
        width: 100%;
        height: 65vh;
        padding-left: 5%;
        padding-right: 5%;
        display: flex;
        flex-direction: column;
    }

    .characteristic-block {
        width: 100%;
        height: 9vh;
        display: flex;
        align-content: center;
    }

    .with-label {
        justify-content: space-between;
    }

    .without-label input {
        width: 100%;
    }

    input {
        text-align: center;
        font-size: 2.5vh;
        border: 0.1vh solid black;
        height: 7vh;
        margin-top: 1vh;
        margin-bottom: 1vh;
        border-radius: 2.5vh;
    }

    label {
        display: flex;
        align-items: center;
    }
</style>
<head>
    <meta charset="UTF-8">
    <title th:text="${product != null ? product.getName() : 'Создание продукта'}"></title>
    <link type="text/css" rel="stylesheet" href="/css/main.css"/>
</head>
<body>
<div class="mobile-view">
    <div class="back-block">
        <form method="get" th:action="${'/products/' + selectedFilter + '/' + product.getId()}" class="full-form">
            <input type="submit" value="Назад" class="back-button">
        </form>
    </div>
    <div class="content">
        <form method="post" action="/portions/add" class="characteristics-form">
            <div class="characteristics-block">
                <div class="characteristic-block without-label">
                    <label for="name"></label>
                    <input type="text" placeholder="Наименование" name="name" id="name" required
                           th:value="${product?.getName()}">
                </div>
                <div class="characteristic-block without-label">
                    <label for="brand"></label>
                    <input type="text" placeholder="365 дней" name="brand" id="brand" th:value="${product?.getBrand()}">
                </div>
                <div class="characteristic-block with-label">
                    <label for="protein">Белки</label>
                    <input type="number" step="0.1" placeholder="0.0" name="protein" id="protein"
                           th:value="${product?.getProtein()}">
                </div>
                <div class="characteristic-block with-label">
                    <label for="fat">Жиры</label>
                    <input type="number" step="0.1" placeholder="0.0" name="fat" id="fat"
                           th:value="${product?.getFat()}">
                </div>
                <div class="characteristic-block with-label">
                    <label for="carb">Углеводы</label>
                    <input type="number" step="0.1" placeholder="0.0" name="carb" id="carb"
                           th:value="${product?.getCarb()}">
                </div>
                <div class="characteristic-block with-label">
                    <label for="fibers">Пищевые волокна</label>
                    <input type="number" step="0.1" placeholder="0.0" name="fibers" id="fibers"
                           th:value="${product?.getFibers()}">
                </div>
            </div>
            <div class="button-block">
                <input th:formaction="${product != null ? '/product/edit/' + product.getId() : '/product/add'}"
                       type="submit" value="Продолжить" class="continue-button green-button">
            </div>
            <div class="button-block">
                <th:block th:if="${product != null}">
                    <input th:formaction="'/product/del/' + ${product.getId()}"
                           type="submit" value="Удалить" class="continue-button red-button">
                </th:block>
            </div>
            <input type="hidden" name="selectedId" th:value="${selectedId}">
            <input type="hidden" name="selectedFilter" th:value="${selectedFilter}">
        </form>
    </div>
</div>
</body>
</html>